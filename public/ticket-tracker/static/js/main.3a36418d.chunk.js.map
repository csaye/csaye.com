{"version":3,"sources":["util/priorities.js","img/default_profile.png","components/Ticket/Ticket.js","components/Homescreen/Homescreen.js","components/SignIn/SignIn.js","components/SignOut/SignOut.js","components/Subtopics/Subtopics.js","components/App/App.js","util/firebaseConfig.js","reportWebVitals.js","index.js"],"names":["priorities","map","p","name","className","Ticket","props","message","title","description","id","photoURL","displayName","createdAt","priority","useState","editing","setEditing","resolving","setResolving","newTitle","setNewTitle","newDescription","setNewDescription","e","a","preventDefault","firebase","firestore","collection","doc","update","newPriority","toDate","toDateString","toLocaleTimeString","src","defaultProfile","alt","value","onChange","updatePriority","target","onClick","onSubmit","placeholder","required","rows","type","delete","Homescreen","setPriority","setTitle","setDescription","selectedPriorities","setSelectedPriorities","updatePriorities","checked","getAttribute","indexOf","newPs","slice","push","addPriority","pIndex","splice","removePriority","uid","auth","currentUser","userRef","useDocumentData","userDoc","ticketsRef","query","where","subtopic","orderBy","useCollectionData","idField","tickets","filteredTickets","filter","tkt","length","includes","sendTicket","add","Date","alert","htmlFor","SignIn","provider","GoogleAuthProvider","signInWithPopup","SignOut","docRef","get","exists","set","useEffect","initializeUser","signOut","Subtopics","deleting","setDeleting","subtopicName","setSubtopicName","subtopicsRef","subtopics","then","snapshot","batch","forEach","ref","commit","sName","docs","d","data","some","s","maxLength","deleteSubtopic","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","App","useAuthState","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3a36418d.chunk.js","sourcesContent":["import prioritiesJson from './PriorityData.json';\n\nexport const priorities = prioritiesJson.priorities.map(p => [\n  p.name,\n  p.className\n]);\n","export default __webpack_public_path__ + \"static/media/default_profile.b67f3a86.png\";","import './Ticket.css';\n\nimport React, { useState } from 'react';\n\nimport firebase from 'firebase/app';\nimport { priorities } from '../../util/priorities.js';\nimport defaultProfile from '../../img/default_profile.png';\n\n// Ticket component\nfunction Ticket(props) {\n  const { title, description, id, photoURL, displayName, createdAt, priority } = props.message;\n\n  const [editing, setEditing] = useState(false);\n  const [resolving, setResolving] = useState(false);\n  const [newTitle, setNewTitle] = useState('');\n  const [newDescription, setNewDescription] = useState('');\n\n  function resolveTicket() {\n    firebase.firestore().collection('tickets').doc(id).delete();\n  }\n\n  function startEditing() {\n    // prime modal\n    setNewTitle(title);\n    setNewDescription(description);\n    // open modal\n    setEditing(true);\n  }\n\n  async function saveEdits(e) {\n    e.preventDefault();\n    await firebase.firestore().collection('tickets').doc(id).update({\n      title: newTitle,\n      description: newDescription\n    });\n    setEditing(false);\n  }\n\n  async function updatePriority(newPriority) {\n    await firebase.firestore().collection('tickets').doc(id).update({\n      priority: newPriority\n    });\n  }\n\n  return (\n    <div className={`Ticket ${priority}`}>\n      <p>Created by {displayName}</p>\n      {createdAt && <p>{createdAt.toDate().toDateString()} {createdAt.toDate().toLocaleTimeString()}</p>}\n      <img src={photoURL ? photoURL : defaultProfile} alt=\"\" />\n      <select value={priority} onChange={(e) => updatePriority(e.target.value)}>\n        {\n          priorities.map(p => (\n            <option key={p[1]} value={p[1]}>{p[0]}</option>\n          ))\n        }\n      </select>\n      <h1>{title}</h1>\n      <p>{description}</p>\n      <button onClick={() => setResolving(true)}>Resolve</button>\n      <button onClick={startEditing}>Edit</button>\n      {\n        editing &&\n        <div className=\"modal\">\n          <div className=\"modal-content ticket-modal\">\n            <h1>Editing Ticket</h1>\n            {/* Save edits form */}\n            <form onSubmit={saveEdits}>\n              <input\n              value={newTitle}\n              placeholder=\"Title\"\n              onChange={(e) => setNewTitle(e.target.value)}\n              required\n              />\n              <textarea\n              value={newDescription}\n              placeholder=\"Description\"\n              onChange={(e) => setNewDescription(e.target.value)}\n              rows=\"4\"\n              required\n              />\n              <div>\n                <button type=\"button\" onClick={() => setEditing(false)}>Discard changes</button>\n                <button type=\"submit\">Save changes</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      }\n      {\n        resolving &&\n        <div className=\"modal\">\n          <div className=\"modal-content\">\n            <h1>Resolving Ticket</h1>\n            <p>This action is irreversible.</p>\n            <button onClick={() => setResolving(false)}>Cancel</button>\n            <button onClick={resolveTicket}>Resolve</button>\n          </div>\n        </div>\n      }\n    </div>\n  );\n}\n\nexport default Ticket;\n","import './Homescreen.css';\n\nimport React, { useState } from 'react';\nimport { useCollectionData, useDocumentData } from 'react-firebase-hooks/firestore';\n\nimport Ticket from '../Ticket/Ticket.js';\n\nimport { priorities } from '../../util/priorities.js';\nimport firebase from 'firebase/app';\n\nconst maxTickets = 128;\n\n// Homescreen component\nfunction Homescreen() {\n  const [priority, setPriority] = useState(priorities[0][1]);\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  let [selectedPriorities, setSelectedPriorities] = useState([]);\n\n  function updatePriorities(e) {\n    let checked = e.target.checked;\n    let p = e.target.getAttribute('priority');\n    checked ? addPriority(p) : removePriority(p);\n  }\n  function addPriority(p) {\n    const pIndex = selectedPriorities.indexOf(p);\n    if (pIndex !== -1) { return; }\n    let newPs = selectedPriorities.slice();\n    newPs.push(p);\n    setSelectedPriorities(newPs);\n  }\n  function removePriority(p) {\n    const pIndex = selectedPriorities.indexOf(p);\n    if (pIndex === -1) { return; }\n    let newPs = selectedPriorities.slice();\n    newPs.splice(pIndex, 1);\n    setSelectedPriorities(newPs);\n  }\n\n  // get user document\n  const uid = firebase.auth().currentUser.uid;\n  const userRef = firebase.firestore().collection('users').doc(uid);\n  const [userDoc] = useDocumentData(userRef);\n\n  // const sTopic = userDoc ? userDoc.subtopic : '';\n\n  // get user tickets from firestore collection\n  const ticketsRef = firebase.firestore().collection('tickets');\n  const query = ticketsRef\n  .where('uid', '==', uid)\n  .where('subtopic', '==', userDoc ? userDoc.subtopic : '')\n  .orderBy('createdAt');\n  const [tickets] = useCollectionData(query, {idField: 'id'});\n\n  // filter tickets by priorities\n  const filteredTickets = tickets\n  ?.filter(tkt => (selectedPriorities.length === 0 || selectedPriorities.includes(tkt.priority)));\n\n  // sends a ticket to firestore\n  const sendTicket = async(e) => {\n    e.preventDefault();\n    const { uid, photoURL, displayName } = firebase.auth().currentUser;\n\n    if (tickets.length < maxTickets) {\n      await ticketsRef.add({\n        priority,\n        title,\n        description,\n        createdAt: new Date(),\n        displayName,\n        uid,\n        photoURL,\n        subtopic: userDoc.subtopic\n      });\n    } else {\n      alert(\"Too many tickets.\");\n    }\n\n    setPriority(priorities[0][1]);\n    setTitle('');\n    setDescription('');\n  }\n\n  return (\n    <div className=\"Homescreen\">\n      <div className=\"TicketInput\">\n        <div className=\"container\">\n          <form onSubmit={sendTicket}>\n            <select value={priority} onChange={(e) => setPriority(e.target.value)} required>\n              {\n                priorities.map(p => (\n                  <option key={p[1]} value={p[1]}>{p[0]}</option>\n                ))\n              }\n            </select>\n            <input value={title} placeholder=\"Title\" onChange={(e) => setTitle(e.target.value)} required />\n            <textarea value={description} placeholder=\"Description\" onChange={(e) => setDescription(e.target.value)} rows=\"4\" required />\n            <button type=\"submit\">Open Ticket</button>\n          </form>\n          <div className=\"checkboxes\">\n            <p><u>Showing{selectedPriorities.length > 0 ? ':' : ' All'}</u></p>\n            {\n              priorities.map(p => (\n                <div key={`div-${p[1]}`}>\n                  <label key={`label-${p[1]}`} htmlFor={`checkbox-${p[1]}`}>{p[0]}</label>\n                  <input key={`checkbox-${p[1]}`} type=\"checkbox\" id={`checkbox-${p[1]}`} priority={p[1]} onChange={updatePriorities}></input>\n                </div>\n              ))\n            }\n          </div>\n        </div>\n      </div>\n      <div className=\"TicketList\">\n        {\n          !filteredTickets ?\n          <p>Retrieving tickets...</p>\n          :\n          <>\n            {\n              filteredTickets.length > 0 ?\n              filteredTickets.map(tkt => <Ticket key={tkt.id} message={tkt} />) :\n              <p>No tickets yet</p>\n            }\n          </>\n        }\n      </div>\n    </div>\n  );\n}\n\nexport default Homescreen;\n","import './SignIn.css';\nimport firebase from 'firebase/app';\n\n// SignIn component\nfunction SignIn() {\n  const signInWithGoogle = () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    firebase.auth().signInWithPopup(provider);\n  }\n\n  return (\n    <div className=\"SignIn\">\n      <div className=\"container\">\n        <h1><u>Ticket Tracker</u></h1>\n        <button onClick={signInWithGoogle}>Sign in with Google</button>\n      </div>\n    </div>\n  );\n}\n\nexport default SignIn;\n","import './SignOut.css';\n\nimport firebase from 'firebase/app';\nimport defaultProfile from '../../img/default_profile.png';\n\nimport React, { useEffect } from 'react';\n\n// SignOut component\nfunction SignOut() {\n\n  async function initializeUser() {\n    const uid = firebase.auth().currentUser.uid;\n    const docRef = firebase.firestore().collection('users').doc(uid);\n    const doc = await docRef.get();\n    // if no doc for user exists, initialize user\n    if (!doc.exists) {\n      await firebase.firestore().collection('users').doc(uid).set({\n        uid: uid,\n        subtopic: 'default'\n      });\n      await firebase.firestore().collection('subtopics').add({\n        uid: uid,\n        name: 'default'\n      })\n    }\n  }\n\n  useEffect(() => {\n    // initialize user on start\n    initializeUser();\n  }, []);\n\n  return (\n    <div className=\"SignOut\">\n      <p>Signed in as {firebase.auth().currentUser.displayName}</p>\n      <img src={firebase.auth().currentUser.photoURL ? firebase.auth().currentUser.photoURL : defaultProfile} alt=\"\" />\n      <button onClick={() => firebase.auth().signOut()}>Sign Out</button>\n    </div>\n  );\n}\n\nexport default SignOut;\n","import './Subtopics.css';\n\nimport React, { useState } from 'react';\nimport { useCollectionData, useDocumentData } from 'react-firebase-hooks/firestore'\n\nimport firebase from 'firebase/app';\n\nfunction Subtopics() {\n  const [deleting, setDeleting] = useState(false);\n  const [subtopicName, setSubtopicName] = useState('');\n\n  // get user subtopics from firestore collection\n  const uid = firebase.auth().currentUser.uid;\n  const subtopicsRef = firebase.firestore().collection('subtopics');\n  const query = subtopicsRef\n  .where('uid', '==', uid)\n  .orderBy('name');\n  const [subtopics] = useCollectionData(query, {idField: 'id'});\n\n  const userRef = firebase.firestore().collection('users').doc(uid);\n  const [userDoc] = useDocumentData(userRef);\n\n  // selects subtopic by name\n  function selectSubtopic(name) {\n    firebase.firestore().collection('users').doc(uid).update({\n      subtopic: name\n    });\n  }\n\n  // deletes subtopic by name\n  async function deleteSubtopic(name) {\n    setDeleting(false);\n    // delete all subtopics with name from user\n    firebase.firestore().collection('subtopics')\n    .where('uid', '==', uid).where('name', '==', name).get()\n    .then((snapshot) => {\n      // create batch\n      const batch = firebase.firestore().batch();\n      // batch all deletions\n      snapshot.forEach((doc) => {\n        batch.delete(doc.ref);\n      });\n      // commit batch\n      batch.commit();\n    })\n    // delete all tickets with subtopic\n    firebase.firestore().collection('tickets')\n    .where('uid', '==', uid).where('subtopic', '==', name).get()\n    .then((snapshot) => {\n      // create batch\n      const batch = firebase.firestore().batch();\n      // batch all deletions\n      snapshot.forEach((doc) => {\n        batch.delete(doc.ref);\n      });\n      // commit batch\n      batch.commit();\n    })\n    // set current subtopic to default\n    await firebase.firestore().collection('users').doc(uid).update({\n      subtopic: 'default'\n    });\n  }\n\n  async function newSubtopic(e) {\n    e.preventDefault();\n    const sName = subtopicName;\n    setSubtopicName('');\n    // return if subtopic already exists\n    const snapshot = await subtopicsRef.where('uid', '==', uid).get();\n    const subtopics = snapshot.docs.map(d => d.data());\n    if (subtopics.some(s => s.name === sName)) return;\n    // add subtopic\n    await subtopicsRef.add({\n      name: sName,\n      uid: uid\n    });\n  }\n\n  if (!subtopics) {\n    return (\n      <div className=\"Subtopics\">\n        <p>Retrieving subtopics...</p>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"Subtopics\">\n      {\n        subtopics.map(s =>\n          <div className=\"subtopic\" key={s.id}>\n            <button onClick={() => selectSubtopic(s.name)}>{s.name}</button>\n          </div>\n        )\n      }\n      <form onSubmit={newSubtopic}>\n        <input\n        value={subtopicName}\n        type=\"text\"\n        placeholder=\"Subtopic\"\n        onChange={e => setSubtopicName(e.target.value)}\n        maxLength=\"32\"\n        required\n        />\n        <button type=\"submit\" className=\"symbol-button\">\n          <p>+</p>\n        </button>\n      </form>\n      <p className=\"subtopic-title\">{userDoc ? userDoc.subtopic : '...'}</p>\n      {\n        (userDoc && userDoc.subtopic !== 'default') &&\n        <button onClick={() => setDeleting(true)} className=\"symbol-button\">\n          <p>-</p>\n        </button>\n      }\n      {\n        deleting &&\n        <div className=\"modal\">\n          <div className=\"modal-content\">\n            <h1>Delete \"{userDoc?.subtopic}\"?</h1>\n            <p>This action is irreversible.</p>\n            <button onClick={() => setDeleting(false)}>Cancel</button>\n            <button onClick={() => deleteSubtopic(userDoc?.subtopic)}>Delete</button>\n          </div>\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default Subtopics;\n","import './App.css';\n\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\nimport { firebaseConfig } from '../../util/firebaseConfig.js';\nimport { useAuthState } from 'react-firebase-hooks/auth';\n\nimport Homescreen from '../Homescreen/Homescreen.js';\nimport SignIn from '../SignIn/SignIn.js';\nimport SignOut from '../SignOut/SignOut.js';\nimport Subtopics from '../Subtopics/Subtopics.js';\n\n// initialize firebase\nfirebase.initializeApp(firebaseConfig);\n\n// App component\nfunction App() {\n  useAuthState(firebase.auth());\n\n  return (\n    <div className=\"App\">\n      <header>\n        <h1>Ticket Tracker</h1>\n        { firebase.auth().currentUser && <SignOut /> }\n      </header>\n      <div className=\"flex-items\">\n        { firebase.auth().currentUser && <Subtopics /> }\n        { firebase.auth().currentUser ? <Homescreen /> : <SignIn /> }\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","export const firebaseConfig = {\n  apiKey: \"AIzaSyCw5-tDfXVripCiIehoWt8MdbopY7Ug-wk\",\n  authDomain: \"csaye-team-tracker.firebaseapp.com\",\n  projectId: \"csaye-team-tracker\",\n  storageBucket: \"csaye-team-tracker.appspot.com\",\n  messagingSenderId: \"268589792536\",\n  appId: \"1:268589792536:web:4a4954b1a06580d4beb26d\"\n};\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}