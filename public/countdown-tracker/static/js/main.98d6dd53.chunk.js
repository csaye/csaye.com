(this["webpackJsonpcountdown-tracker"]=this["webpackJsonpcountdown-tracker"]||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},28:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n.n(c),r=n(16),i=n.n(r),s=(n(23),n(24),n(5)),u=(n(25),n(38),n(17)),o=(n(28),n(1));var j=function(){return Object(o.jsxs)("div",{className:"Header",children:[Object(o.jsx)("h1",{children:"Countdown Tracker"}),s.a.auth().currentUser&&Object(o.jsxs)("div",{className:"authed-items",children:[Object(o.jsxs)("p",{className:"signed-in-as",children:["Signed in as ",s.a.auth().currentUser.displayName]}),Object(o.jsx)("img",{src:s.a.auth().currentUser.photoURL}),Object(o.jsx)("button",{onClick:function(){s.a.auth().signOut()},children:"Sign Out"})]})]})},l=(n(30),n(8)),d=(n(31),n(18)),b=n(10),h=n.n(b),p=n(12),O=(n(33),6e4),m=36e5,f=864e5;var g=function(e){var t=e.data,n=t.title,a=t.id,r=t.endDateTime,i=r.toDate(),u=s.a.auth().currentUser.uid,j=s.a.firestore().collection(u),d=Object(c.useState)(!1),b=Object(l.a)(d,2),g=b[0],x=b[1],v=Object(c.useState)(""),w=Object(l.a)(v,2),N=w[0],C=w[1],S=Object(c.useState)(""),k=Object(l.a)(S,2),y=k[0],D=k[1],I=Object(c.useState)(""),M=Object(l.a)(I,2),T=M[0],U=M[1],F=Object(c.useState)(i-new Date),q=Object(l.a)(F,2),A=q[0],B=q[1],L=Object(c.useState)(!1),P=Object(l.a)(L,2),E=P[0],J=P[1];function W(){return(W=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.doc(a).delete();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(p.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),x(!1),n=new Date(y+" "+T),s.a.auth().currentUser.uid,e.next=6,j.doc(a).update({title:N,endDateTime:n});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){B(i-new Date);var e=setInterval((function(){B(i-new Date)}),100);return function(){return clearInterval(e)}}),[r]),Object(o.jsxs)("div",{className:"Countdown card",children:[g?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("button",{className:"x-button",onClick:function(){return x(!1)},children:"\u2716"}),Object(o.jsx)("p",{className:"center-form-title",children:"Editing Countdown"}),Object(o.jsxs)("form",{onSubmit:function(e){return z.apply(this,arguments)},className:"center-form",children:[Object(o.jsx)("input",{className:"title-input",type:"text",value:N,placeholder:"Title",onChange:function(e){return C(e.target.value)},required:!0}),Object(o.jsx)("input",{type:"date",value:y,onChange:function(e){return D(e.target.value)},required:!0}),Object(o.jsx)("input",{type:"time",value:T,onChange:function(e){return U(e.target.value)},required:!0}),Object(o.jsx)("button",{type:"submit",children:"Update"})]})]}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h1",{children:n}),Object(o.jsx)("p",{className:"end-date",children:i.toDateString()+", "+i.toLocaleTimeString()}),A>0?Object(o.jsxs)("p",{className:"time-left",children:[Object(o.jsx)("span",{className:"time-num",children:Math.floor(A/f)}),"d",Object(o.jsx)("span",{className:"time-num",children:Math.floor(A%f/m)}),"h",Object(o.jsx)("span",{className:"time-num",children:Math.floor(A%f%m/O)}),"m",Object(o.jsx)("span",{className:"time-num",children:Math.floor(A%f%m%O/1e3)}),"s"]}):Object(o.jsx)("p",{className:"time-left countdown-complete",children:"Countdown complete"}),!E&&Object(o.jsx)("button",{className:"edit-button",onClick:function(){C(n),D(function(e){var t=e.getFullYear().toString(),n=(e.getMonth()+1).toString(),c=e.getDate().toString();return n.length<2&&(n="0"+n),c.length<2&&(c="0"+c),[t,n,c].join("-")}(i)),U(function(e){var t=e.getHours().toString(),n=e.getMinutes().toString();return t.length<2&&(t="0"+t),n.length<2&&(n="0"+n),[t,n].join(":")}(i)),x(!0)},children:"Edit"})]}),!g&&Object(o.jsx)(o.Fragment,{children:E?Object(o.jsxs)("div",{className:"confirm-delete",children:["Delete countdown?",Object(o.jsx)("button",{onClick:function(){return J(!1)},children:"Cancel"}),Object(o.jsx)("button",{onClick:function(){return W.apply(this,arguments)},children:"Delete"})]}):Object(o.jsx)("button",{onClick:function(){return J(!0)},children:"Delete"})})]})};n(34);var x=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),i=Object(l.a)(r,2),u=i[0],j=i[1],d=Object(c.useState)(""),b=Object(l.a)(d,2),O=b[0],m=b[1],f=Object(c.useState)(""),g=Object(l.a)(f,2),x=g[0],v=g[1];function w(){return(w=Object(p.a)(h.a.mark((function e(t){var n,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a(!1),n=new Date(O+" "+x),c=s.a.auth().currentUser.uid,r=s.a.firestore().collection(c),e.next=7,r.add({endDateTime:n,title:u});case 7:j(""),m(""),v("");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.jsx)("div",{className:"NewCountdown card",children:n?Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{className:"x-button",onClick:function(){a(!1),j(""),m(""),v("")},children:"\u2716"}),Object(o.jsx)("p",{className:"center-form-title",children:"New Countdown"}),Object(o.jsxs)("form",{onSubmit:function(e){return w.apply(this,arguments)},className:"center-form",children:[Object(o.jsx)("input",{className:"title-input",type:"text",value:u,placeholder:"Title",onChange:function(e){return j(e.target.value)},required:!0}),Object(o.jsx)("input",{type:"date",value:O,onChange:function(e){return m(e.target.value)},required:!0}),Object(o.jsx)("input",{type:"time",value:x,onChange:function(e){return v(e.target.value)},required:!0}),Object(o.jsx)("button",{type:"submit",children:"Create"})]})]}):Object(o.jsx)("div",{className:"center-container",children:Object(o.jsx)("button",{className:"plus-button",onClick:function(){return a(!0)},children:"+"})})})};var v=function(){var e=s.a.auth().currentUser.uid,t=s.a.firestore().collection(e).orderBy("endDateTime"),n=Object(d.a)(t,{idField:"id"}),c=Object(l.a)(n,1)[0];return c?Object(o.jsxs)("div",{className:"CountdownList",children:[c.map((function(e){return Object(o.jsx)(g,{data:e},e.id)})),Object(o.jsx)(x,{})]}):Object(o.jsx)("div",{className:"CountdownList",children:Object(o.jsx)("p",{className:"retrieving-countdowns",children:"Retrieving countdowns..."})})};var w=function(){return Object(o.jsx)("div",{className:"Body",children:Object(o.jsx)(v,{})})};n(35);var N=function(){return Object(o.jsxs)("div",{className:"SignIn",children:[Object(o.jsx)("u",{children:"Countdown Tracker"}),Object(o.jsx)("button",{onClick:function(){var e=new s.a.auth.GoogleAuthProvider;s.a.auth().signInWithPopup(e)},children:"Sign in with Google"})]})},C=(n(36),[n.p+"static/media/bg0.39ba4ea4.jpg",n.p+"static/media/bg1.e63efbda.jpg",n.p+"static/media/bg2.1856884e.jpg",n.p+"static/media/bg3.ddd80e72.jpg",n.p+"static/media/bg4.f89d5570.jpg",n.p+"static/media/bg5.da6a97ad.jpg",n.p+"static/media/bg6.443647d6.jpg",n.p+"static/media/bg7.35edd247.jpg"]),S=Math.floor(Math.random()*C.length);var k=function(){var e=Object(c.useState)(C[S]),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(o.jsxs)("div",{className:"Background",children:[Object(o.jsx)("img",{className:"background-img",src:n}),Object(o.jsx)("button",{className:"change-background",onClick:function(){return a((S>=C.length-1?S=0:S+=1,C[S]))},children:Object(o.jsx)("p",{children:"\u21ba"})})]})};s.a.initializeApp({apiKey:"AIzaSyAat2VKSWs6qrAWtw_I0JxoPo6POjZM4AM",authDomain:"countdown-tracker.firebaseapp.com",projectId:"countdown-tracker",storageBucket:"countdown-tracker.appspot.com",messagingSenderId:"806532017913",appId:"1:806532017913:web:98a6b4b650fa97aa7bfc28"});var y=function(){return Object(u.a)(s.a.auth()),Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(k,{}),Object(o.jsx)(j,{}),s.a.auth().currentUser?Object(o.jsx)(w,{}):Object(o.jsx)(N,{})]})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(y,{})}),document.getElementById("root")),D()}},[[37,1,2]]]);
//# sourceMappingURL=main.98d6dd53.chunk.js.map